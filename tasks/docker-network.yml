# =============================================================================
# Docker Network Management
# =============================================================================
# Ensures Docker networks exist on hosts with docker_networks defined
# Usage: Include this task file before deploying stacks that need networks
# =============================================================================

- name: Ensure Docker networks exist
  community.docker.docker_network:
    name: "{{ item.name }}"
    state: present
  loop: "{{ docker_networks | default([]) }}"
  loop_control:
    label: "{{ item.name }}"
  when: docker_networks is defined and docker_networks | length > 0
